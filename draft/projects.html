<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixelar - Projects</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Configuration from Design System -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            accent: '#FF715B',
                            accentHover: '#FF4F33',
                            surface: '#FFFFFF',
                            canvas: '#F4F4F0',
                            border: '#18181B',
                            text: '#18181B',
                            textMuted: '#71717A'
                        }
                    },
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    boxShadow: {
                        'hard': '4px 4px 0px 0px #18181B',
                        'hard-sm': '2px 2px 0px 0px #18181B',
                        'hard-hover': '6px 6px 0px 0px #18181B',
                        'hard-active': '0px 0px 0px 0px #18181B',
                    },
                    borderWidth: {
                        '3': '3px',
                    },
                    backgroundImage: {
                        'sprite-grid': `linear-gradient(45deg, #f1f1f1 25%, transparent 25%),
                                        linear-gradient(-45deg, #f1f1f1 25%, transparent 25%),
                                        linear-gradient(45deg, transparent 75%, #f1f1f1 75%),
                                        linear-gradient(-45deg, transparent 75%, #f1f1f1 75%)`
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F4F4F0;
            background-image: radial-gradient(#D4D4D8 2px, transparent 2px);
            background-size: 24px 24px;
        }

        .btn-press {
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-press:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px 0px #18181B;
        }

        /* Custom scrollbar to match aesthetic */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #F4F4F0;
            border-left: 2px solid #18181B;
        }

        ::-webkit-scrollbar-thumb {
            background: #18181B;
            border: 2px solid #F4F4F0;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #FF715B;
        }

        .sprite-bg {
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }

        /* Modal Animation */
        .modal-enter {
            opacity: 0;
            transform: scale(0.95);
        }

        .modal-enter-active {
            opacity: 1;
            transform: scale(1);
            transition: opacity 0.2s, transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>

<body class="text-brand-text font-sans antialiased min-h-screen flex flex-col relative">

    <!-- Navbar -->
    <header class="bg-white border-b-3 border-brand-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <!-- Brand -->
            <div class="flex items-center gap-3">
                <div
                    class="w-10 h-10 bg-brand-text text-white flex items-center justify-center border-2 border-transparent">
                    <i data-lucide="cpu" class="w-6 h-6"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-bold tracking-tight text-brand-text leading-none">Pixelar</h1>
                    <span
                        class="font-mono text-[10px] text-brand-textMuted uppercase tracking-wider">Dashboard_v2.1</span>
                </div>
            </div>

            <!-- User Profile / Credits -->
            <div class="flex items-center gap-6">
                <!-- Credits Counter -->
                <div class="hidden md:flex flex-col items-end mr-4">
                    <div class="flex items-center gap-2 font-mono text-xs font-bold text-brand-textMuted">
                        <i data-lucide="zap" class="w-3 h-3 text-brand-accent"></i>
                        CREDITS: 450
                    </div>
                    <div class="w-32 h-2 border border-brand-border bg-brand-canvas mt-1">
                        <div class="h-full bg-brand-accent w-3/4"></div>
                    </div>
                </div>

                <!-- User Badge -->
                <div class="flex items-center gap-3 pl-6 border-l-2 border-brand-border">
                    <div class="text-right hidden md:block">
                        <div class="font-bold text-sm leading-none">Alex.Design</div>
                        <div class="font-mono text-[10px] text-brand-accent bg-brand-border/5 px-1 inline-block mt-1">
                            PLAN: PRO_TIER</div>
                    </div>
                    <div class="relative cursor-pointer group">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User"
                            class="w-10 h-10 border-2 border-brand-border bg-brand-canvas transition-transform group-hover:translate-x-[2px] group-hover:translate-y-[2px]">
                        <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-brand-border">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="flex-1 max-w-7xl mx-auto w-full p-6 md:p-10 space-y-8">

        <!-- Toolbar Section -->
        <section class="flex flex-col md:flex-row md:items-end justify-between gap-6">

            <!-- Filters & Search -->
            <div class="flex-1 w-full md:w-auto space-y-4">
                <h2 class="font-mono text-xs font-bold uppercase text-brand-textMuted">/// FILTER_MATRIX</h2>
                <div class="flex flex-col md:flex-row gap-4">
                    <!-- Search Input -->
                    <div class="relative group w-full md:w-80">
                        <div
                            class="absolute inset-y-0 left-3 flex items-center pointer-events-none text-brand-textMuted group-focus-within:text-brand-text">
                            <i data-lucide="search" class="w-4 h-4"></i>
                        </div>
                        <input type="text" id="searchInput" placeholder="Search projects..."
                            class="w-full bg-white border-2 border-brand-border py-2 pl-10 pr-4 font-mono text-sm outline-none focus:shadow-hard-sm transition-all placeholder:text-gray-300">
                    </div>

                    <!-- Filter Tabs -->
                    <div class="flex bg-white border-2 border-brand-border p-1 gap-1 shadow-hard-sm"
                        id="filterContainer">
                        <button onclick="setFilter('all')" id="btn-all"
                            class="px-4 py-1.5 font-mono text-xs font-bold uppercase hover:bg-brand-canvas transition-colors bg-brand-text text-white">All</button>
                        <button onclick="setFilter('sprite')" id="btn-sprite"
                            class="px-4 py-1.5 font-mono text-xs font-bold uppercase hover:bg-brand-canvas transition-colors text-brand-textMuted hover:text-brand-text">Sprites</button>
                        <button onclick="setFilter('scene')" id="btn-scene"
                            class="px-4 py-1.5 font-mono text-xs font-bold uppercase hover:bg-brand-canvas transition-colors text-brand-textMuted hover:text-brand-text">Scenes</button>
                    </div>
                </div>
            </div>

            <!-- Actions -->
            <div class="flex gap-4 self-start md:self-end">
                <button onclick="triggerImport()"
                    class="btn-press px-4 py-3 bg-white text-brand-text font-mono font-bold uppercase border-2 border-brand-border shadow-hard hover:bg-brand-canvas flex items-center gap-2 text-sm">
                    <i data-lucide="upload" class="w-4 h-4"></i>
                    <span class="hidden md:inline">Import</span>
                </button>

                <div class="relative group">
                    <button
                        class="btn-press px-6 py-3 bg-brand-accent text-white font-mono font-bold uppercase border-2 border-brand-border shadow-hard hover:bg-brand-accentHover flex items-center gap-2 text-sm">
                        <i data-lucide="plus" class="w-4 h-4"></i>
                        Create New
                    </button>
                    <!-- Dropdown for creation types (Visual only for interactions) -->
                    <div
                        class="absolute right-0 top-full mt-2 w-48 bg-white border-2 border-brand-border shadow-hard opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10 flex flex-col">
                        <a href="#"
                            class="px-4 py-3 font-mono text-xs font-bold hover:bg-brand-canvas border-b-2 border-brand-border flex items-center gap-2">
                            <i data-lucide="ghost" class="w-3 h-3"></i> NEW SPRITE
                        </a>
                        <a href="#"
                            class="px-4 py-3 font-mono text-xs font-bold hover:bg-brand-canvas flex items-center gap-2">
                            <i data-lucide="map" class="w-3 h-3"></i> NEW SCENE
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Grid -->
        <section>
            <div id="projectsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Content injected via JS -->
            </div>

            <!-- Empty State (Hidden by default) -->
            <div id="emptyState"
                class="hidden flex-col items-center justify-center py-20 border-2 border-dashed border-brand-textMuted bg-brand-border/5">
                <div
                    class="w-16 h-16 bg-brand-canvas border-2 border-brand-textMuted text-brand-textMuted flex items-center justify-center mb-4 rounded-full">
                    <i data-lucide="folder-open" class="w-8 h-8"></i>
                </div>
                <h3 class="font-bold text-lg text-brand-text">No Projects Found</h3>
                <p class="font-mono text-xs text-brand-textMuted mt-1">Try adjusting your filters or search terms.</p>
            </div>
        </section>

    </main>

    <!-- Custom Modal Overlay -->
    <div id="modalOverlay"
        class="fixed inset-0 bg-brand-text/50 backdrop-blur-sm z-[100] hidden items-center justify-center p-4">
        <!-- Modal Content -->
        <div id="modalContent"
            class="bg-white border-3 border-brand-border shadow-hard w-full max-w-md modal-enter transform transition-all">
            <!-- Header -->
            <div class="bg-brand-canvas border-b-2 border-brand-border px-4 py-3 flex justify-between items-center">
                <h3 id="modalTitle" class="font-mono font-bold text-sm uppercase text-brand-text">/// SYSTEM_MESSAGE
                </h3>
                <button onclick="closeModal()" class="text-brand-textMuted hover:text-brand-text">
                    <i data-lucide="x" class="w-4 h-4"></i>
                </button>
            </div>

            <!-- Body -->
            <div class="p-6">
                <p id="modalMessage" class="font-bold text-lg mb-4">Are you sure?</p>

                <!-- Input Container (Hidden by default) -->
                <div id="modalInputContainer" class="hidden mb-4">
                    <input type="text" id="modalInput"
                        class="w-full bg-white border-2 border-brand-border px-4 py-2 font-mono text-sm outline-none focus:border-brand-accent focus:shadow-hard-sm transition-all"
                        placeholder="Enter value...">
                </div>

                <!-- Footer / Actions -->
                <div class="flex justify-end gap-3 mt-6">
                    <button onclick="closeModal()"
                        class="px-4 py-2 font-mono text-xs font-bold uppercase border-2 border-transparent hover:bg-brand-canvas hover:border-brand-border transition-colors text-brand-textMuted hover:text-brand-text">Cancel</button>
                    <button id="modalConfirmBtn"
                        class="btn-press px-6 py-2 bg-brand-text text-white font-mono text-xs font-bold uppercase border-2 border-brand-border shadow-hard-sm hover:bg-brand-accent transition-colors">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JS Logic for Interactivity -->
    <script>
        // Mock Data
        let projects = [
            { id: '8842', title: 'Cyberpunk_City', type: 'scene', date: '2024-03-10', thumbColor: 'bg-purple-500' },
            { id: '9120', title: 'Hero_Idle_Anim', type: 'sprite', date: '2024-03-09', thumbColor: 'bg-brand-accent' },
            { id: '7731', title: 'Forest_Tileset', type: 'sprite', date: '2024-03-08', thumbColor: 'bg-green-500' },
            { id: '6654', title: 'Dungeon_Lvl_1', type: 'scene', date: '2024-03-05', thumbColor: 'bg-slate-600' },
            { id: '5521', title: 'NPC_Merchant', type: 'sprite', date: '2024-03-01', thumbColor: 'bg-yellow-500' },
            { id: '4419', title: 'Space_Background', type: 'scene', date: '2024-02-28', thumbColor: 'bg-blue-600' }
        ];

        let currentFilter = 'all';
        let searchQuery = '';

        // Modal State Variables
        let activeModalAction = null;
        let activeProjectId = null;

        document.addEventListener('DOMContentLoaded', () => {
            renderProjects();
            lucide.createIcons();

            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchQuery = e.target.value.toLowerCase();
                renderProjects();
            });
        });

        // --- Modal System Functions ---

        function showModal({ title, message, showInput, confirmText, onConfirm }) {
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('modalContent');
            const inputContainer = document.getElementById('modalInputContainer');
            const confirmBtn = document.getElementById('modalConfirmBtn');

            document.getElementById('modalTitle').innerText = title || '/// SYSTEM_MESSAGE';
            document.getElementById('modalMessage').innerText = message;
            confirmBtn.innerText = confirmText || 'CONFIRM';

            // Reset and show/hide input
            const input = document.getElementById('modalInput');
            input.value = '';
            if (showInput) {
                inputContainer.classList.remove('hidden');
                // Set initial value if provided
                if (typeof showInput === 'string') input.value = showInput;
                setTimeout(() => input.focus(), 100);
            } else {
                inputContainer.classList.add('hidden');
            }

            // Set Action
            confirmBtn.onclick = () => {
                const val = input.value;
                onConfirm(val);
                closeModal();
            };

            // Show Modal
            overlay.classList.remove('hidden');
            overlay.classList.add('flex');
            requestAnimationFrame(() => {
                content.classList.add('modal-enter-active');
            });
        }

        function closeModal() {
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('modalContent');
            content.classList.remove('modal-enter-active');
            setTimeout(() => {
                overlay.classList.add('hidden');
                overlay.classList.remove('flex');
            }, 100);
        }

        // --- Action Handlers ---

        function setFilter(filterType) {
            currentFilter = filterType;
            const buttons = ['all', 'sprite', 'scene'];
            buttons.forEach(btn => {
                const el = document.getElementById(`btn-${btn}`);
                if (btn === filterType) {
                    el.classList.remove('text-brand-textMuted', 'hover:text-brand-text');
                    el.classList.add('bg-brand-text', 'text-white');
                } else {
                    el.classList.add('text-brand-textMuted', 'hover:text-brand-text');
                    el.classList.remove('bg-brand-text', 'text-white');
                }
            });
            renderProjects();
        }

        function openProject(id) {
            showModal({
                title: '/// OPENING_PROJECT',
                message: `Initializing environment for Project ID: ${id}...`,
                confirmText: 'LAUNCH',
                onConfirm: () => {
                    // In a real app, this would redirect
                    console.log(`Opening project ${id}`);
                }
            });
        }

        function deleteProject(e, id) {
            e.stopPropagation(); // Prevent card click
            showModal({
                title: '/// CONFIRM_DELETION',
                message: 'This action is permanent and cannot be undone. Delete this project?',
                confirmText: 'DELETE',
                onConfirm: () => {
                    projects = projects.filter(p => p.id !== id);
                    renderProjects();
                }
            });
        }

        function renameProject(e, id) {
            e.stopPropagation(); // Prevent card click
            const project = projects.find(p => p.id === id);
            showModal({
                title: '/// RENAME_PROJECT',
                message: 'Enter new project identifier:',
                showInput: project.title,
                confirmText: 'SAVE',
                onConfirm: (newName) => {
                    if (newName && newName.trim() !== "") {
                        project.title = newName.trim();
                        renderProjects();
                    }
                }
            });
        }

        function triggerImport() {
            showModal({
                title: '/// SYSTEM_UPLOAD',
                message: 'Drag files here or click confirm to browse device storage.',
                confirmText: 'BROWSE',
                onConfirm: () => {
                    // Simulation import
                    projects.unshift({
                        id: Math.floor(Math.random() * 9000 + 1000).toString(),
                        title: 'Imported_Asset_' + Math.floor(Math.random() * 100),
                        type: 'sprite',
                        date: new Date().toISOString().split('T')[0],
                        thumbColor: 'bg-gray-400'
                    });
                    renderProjects();
                }
            });
        }

        function showCreateNewModal() {
            showProjectTypeSelection();
        }

        function showProjectTypeSelection() {
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('modalContent');
            const modalBody = content.querySelector('.p-6');

            document.getElementById('modalTitle').innerText = '/// SELECT_PROJECT_TYPE';

            // Custom body for type selection
            modalBody.innerHTML = `
                <p class="font-bold text-lg mb-6">Choose project type:</p>
                <div class="flex flex-col gap-3">
                    <button onclick="createProjectWithType('sprite')" class="btn-press px-6 py-4 bg-white hover:bg-blue-50 text-brand-text font-mono font-bold uppercase border-2 border-brand-border shadow-hard hover:shadow-hard-sm flex items-center gap-3 text-left group">
                        <div class="w-12 h-12 bg-blue-500 border-2 border-brand-border flex items-center justify-center">
                            <i data-lucide="ghost" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="text-sm">NEW SPRITE</div>
                            <div class="text-[10px] text-brand-textMuted font-normal">Create a new sprite asset</div>
                        </div>
                    </button>
                    <button onclick="createProjectWithType('scene')" class="btn-press px-6 py-4 bg-white hover:bg-orange-50 text-brand-text font-mono font-bold uppercase border-2 border-brand-border shadow-hard hover:shadow-hard-sm flex items-center gap-3 text-left group">
                        <div class="w-12 h-12 bg-orange-500 border-2 border-brand-border flex items-center justify-center">
                            <i data-lucide="map" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="text-sm">NEW SCENE</div>
                            <div class="text-[10px] text-brand-textMuted font-normal">Create a new scene layout</div>
                        </div>
                    </button>
                </div>
                <div class="flex justify-end mt-6">
                    <button onclick="closeModal()" class="px-4 py-2 font-mono text-xs font-bold uppercase border-2 border-transparent hover:bg-brand-canvas hover:border-brand-border transition-colors text-brand-textMuted hover:text-brand-text">Cancel</button>
                </div>
            `;

            // Show Modal
            overlay.classList.remove('hidden');
            overlay.classList.add('flex');
            requestAnimationFrame(() => {
                content.classList.add('modal-enter-active');
                lucide.createIcons();
            });
        }

        function createProjectWithType(type) {
            closeModal();
            // Small delay to allow modal to close
            setTimeout(() => {
                showModal({
                    title: '/// CREATE_PROJECT',
                    message: `Enter a name for your new ${type}:`,
                    showInput: `Untitled_${type.charAt(0).toUpperCase() + type.slice(1)}`,
                    confirmText: 'CREATE',
                    onConfirm: (projectName) => {
                        if (projectName && projectName.trim() !== "") {
                            const colors = ['bg-purple-500', 'bg-brand-accent', 'bg-green-500', 'bg-blue-600', 'bg-yellow-500', 'bg-pink-500'];
                            projects.unshift({
                                id: Math.floor(Math.random() * 9000 + 1000).toString(),
                                title: projectName.trim(),
                                type: type,
                                date: new Date().toISOString().split('T')[0],
                                thumbColor: colors[Math.floor(Math.random() * colors.length)]
                            });
                            renderProjects();
                        }
                    }
                });
            }, 150);
        }

        function renderProjects() {
            const grid = document.getElementById('projectsGrid');
            const emptyState = document.getElementById('emptyState');

            const filtered = projects.filter(p => {
                const matchesFilter = currentFilter === 'all' || p.type === currentFilter;
                const matchesSearch = p.title.toLowerCase().includes(searchQuery);
                return matchesFilter && matchesSearch;
            });

            if (filtered.length === 0) {
                grid.innerHTML = '';
                emptyState.classList.remove('hidden');
                emptyState.classList.add('flex');
                return;
            } else {
                emptyState.classList.add('hidden');
                emptyState.classList.remove('flex');
            }

            const addNewTile = `
                <div onclick="showCreateNewModal()" class="group bg-white border-2 border-dashed border-brand-textMuted hover:border-brand-accent hover:bg-brand-canvas/50 shadow-hard hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-hard-sm transition-all duration-200 flex flex-col h-full cursor-pointer select-none">

                    <div class="flex justify-between items-center px-3 py-2 border-b-2 border-dashed border-brand-textMuted group-hover:border-brand-accent bg-brand-canvas/30">
                        <span class="font-mono text-[10px] font-bold text-brand-textMuted group-hover:text-brand-accent">/// NEW_PROJECT</span>
                        <div class="flex gap-1">
                            <div class="w-2 h-2 rounded-full border border-brand-textMuted group-hover:border-brand-accent bg-white group-hover:bg-brand-accent transition-colors"></div>
                        </div>
                    </div>

                    <div class="h-40 w-full relative flex items-center justify-center overflow-hidden border-b-2 border-dashed border-brand-textMuted group-hover:border-brand-accent">
                        <div class="w-16 h-16 border-2 border-dashed border-brand-textMuted group-hover:border-brand-accent group-hover:bg-brand-accent/10 transition-all flex items-center justify-center">
                            <i data-lucide="plus" class="text-brand-textMuted group-hover:text-brand-accent w-8 h-8 transition-colors"></i>
                        </div>
                    </div>

                    <div class="p-4 flex flex-col flex-1 justify-center items-center gap-2">
                        <h4 class="font-bold text-lg leading-tight text-brand-textMuted group-hover:text-brand-accent transition-colors">Create New</h4>
                        <p class="font-mono text-[10px] text-brand-textMuted text-center">Click to add a new sprite or scene</p>
                    </div>
                </div>
            `;

            const projectTiles = filtered.map(p => `
                <div onclick="openProject('${p.id}')" class="group bg-white border-2 border-brand-border shadow-hard hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-hard-sm transition-all duration-200 flex flex-col h-full cursor-pointer select-none">

                    <div class="flex justify-between items-center px-3 py-2 border-b-2 border-brand-border bg-brand-canvas">
                        <span class="font-mono text-[10px] font-bold text-brand-textMuted">ID: ${p.id}</span>
                        <div class="flex gap-1">
                            <div class="w-2 h-2 rounded-full border border-brand-border bg-white group-hover:bg-green-400 transition-colors"></div>
                        </div>
                    </div>

                    <div class="h-40 w-full bg-sprite-grid sprite-bg relative flex items-center justify-center overflow-hidden border-b-2 border-brand-border">
                        <div class="w-16 h-16 ${p.thumbColor} border-2 border-brand-border shadow-sm flex items-center justify-center">
                            <i data-lucide="${p.type === 'sprite' ? 'ghost' : 'map'}" class="text-white w-8 h-8 opacity-75"></i>
                        </div>
                    </div>

                    <div class="p-4 flex flex-col flex-1 justify-between gap-4">
                        <div>
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-lg leading-tight group-hover:text-brand-accent transition-colors truncate pr-2" title="${p.title}">${p.title}</h4>
                            </div>
                            <p class="font-mono text-[10px] text-brand-textMuted">Last edited: ${p.date}</p>
                        </div>

                        <div class="flex items-center justify-between mt-auto">
                            <span class="px-2 py-1 text-[10px] font-mono font-bold border border-brand-border ${p.type === 'sprite' ? 'bg-blue-50 text-blue-600' : 'bg-orange-50 text-orange-600'} uppercase">
                                ${p.type}
                            </span>

                            <div class="flex gap-1">
                                <button onclick="renameProject(event, '${p.id}')" class="p-1.5 hover:bg-brand-canvas border border-transparent hover:border-brand-border rounded-sm text-brand-textMuted hover:text-brand-text transition-all" title="Rename">
                                    <i data-lucide="pencil" class="w-3 h-3"></i>
                                </button>
                                <button onclick="deleteProject(event, '${p.id}')" class="p-1.5 hover:bg-red-50 border border-transparent hover:border-red-200 rounded-sm text-brand-textMuted hover:text-red-500 transition-all" title="Delete">
                                    <i data-lucide="trash-2" class="w-3 h-3"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            grid.innerHTML = addNewTile + projectTiles;

            lucide.createIcons();
        }
    </script>
</body>

</html>