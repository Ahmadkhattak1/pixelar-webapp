<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixelar - Login</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Global variable for auth instance
        window.firebaseAuth = null;
        window.googleProvider = null;

        // Initialize Firebase if config is available
        try {
            if (typeof __firebase_config !== 'undefined') {
                const firebaseConfig = JSON.parse(__firebase_config);
                const app = initializeApp(firebaseConfig);
                window.firebaseAuth = getAuth(app);
                window.googleProvider = new GoogleAuthProvider();

                // Monitor auth state
                onAuthStateChanged(window.firebaseAuth, (user) => {
                    if (user) {
                        console.log("User is signed in:", user.email);
                        // Visual feedback for signed-in state could go here
                        document.getElementById('login-status').innerText = `USER: ${user.displayName || user.email}`;
                        document.getElementById('login-status').classList.remove('text-brand-textMuted');
                        document.getElementById('login-status').classList.add('text-brand-accent');
                    }
                });
            }
        } catch (e) {
            console.error("Firebase init error:", e);
        }

        window.handleGoogleLogin = async () => {
            if (!window.firebaseAuth) {
                alert("Firebase configuration not found. This is a design preview.");
                return;
            }

            try {
                await signInWithPopup(window.firebaseAuth, window.googleProvider);
            } catch (error) {
                console.error("Login failed:", error);
                alert("Login failed: " + error.message);
            }
        };
    </script>

    <!-- Configuration from Design System -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            accent: '#FF715B',
                            accentHover: '#FF4F33',
                            surface: '#FFFFFF',
                            canvas: '#F4F4F0',
                            border: '#18181B',
                            text: '#18181B',
                            textMuted: '#71717A'
                        }
                    },
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    boxShadow: {
                        'hard': '4px 4px 0px 0px #18181B',
                        'hard-sm': '2px 2px 0px 0px #18181B',
                        'hard-hover': '6px 6px 0px 0px #18181B',
                        'hard-active': '0px 0px 0px 0px #18181B',
                    },
                    borderWidth: {
                        '3': '3px',
                    },
                    backgroundImage: {
                        'sprite-grid': `linear-gradient(45deg, #f1f1f1 25%, transparent 25%),
                                        linear-gradient(-45deg, #f1f1f1 25%, transparent 25%),
                                        linear-gradient(45deg, transparent 75%, #f1f1f1 75%),
                                        linear-gradient(-45deg, transparent 75%, #f1f1f1 75%)`
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F4F4F0;
            background-image: radial-gradient(#D4D4D8 2px, transparent 2px);
            background-size: 24px 24px;
        }

        .btn-press {
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-press:active {
            transform: translate(4px, 4px);
            box-shadow: 0px 0px 0px 0px #18181B;
        }

        /* Scanline animation for the 'terminal' feel */
        @keyframes scanline {
            0% {
                transform: translateY(-100%);
            }

            100% {
                transform: translateY(100%);
            }
        }

        .scanline-overlay {
            background: linear-gradient(to bottom, transparent, rgba(24, 24, 27, 0.05), transparent);
            animation: scanline 4s linear infinite;
        }

        .sprite-bg {
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
    </style>
</head>

<body
    class="text-brand-text font-sans antialiased min-h-screen flex flex-col selection:bg-brand-accent selection:text-white overflow-hidden relative">

    <!-- Background Decorative Elements -->
    <div class="fixed top-0 left-0 w-full h-full pointer-events-none z-[-1]">
        <!-- Large decorative geometric shape -->
        <div class="absolute -right-20 top-20 w-96 h-96 bg-brand-accent/5 rounded-full blur-3xl"></div>
        <div class="absolute -left-20 bottom-20 w-96 h-96 bg-brand-border/5 rounded-full blur-3xl"></div>
    </div>

    <main class="flex-1 flex items-center justify-center p-6 relative">

        <!-- Main Auth Card -->
        <div
            class="w-full max-w-md bg-white border-3 border-brand-border shadow-hard relative p-8 md:p-12 flex flex-col justify-center">

            <div class="mb-10">
                <!-- Logo Placeholder -->
                <div class="flex items-center gap-3 mb-6">
                    <div
                        class="w-10 h-10 bg-brand-text text-white flex items-center justify-center border-2 border-transparent">
                        <i data-lucide="cpu" class="w-6 h-6"></i>
                    </div>
                    <h1 class="text-3xl font-bold tracking-tight text-brand-text font-sans">Pixelar</h1>
                </div>

                <h2 class="text-4xl font-bold leading-tight mb-4 font-sans text-brand-text">
                    Create assets. <br>
                    <span class="text-brand-textMuted">Ship games.</span>
                </h2>

                <p
                    class="font-mono text-sm text-brand-textMuted leading-relaxed border-l-2 border-brand-accent pl-4 py-1">
                    Export-ready assets to game engines like Unity, Godot, Unreal etc.
                </p>
            </div>

            <!-- Login Action -->
            <div class="space-y-6">
                <button onclick="handleGoogleLogin()"
                    class="btn-press w-full group relative flex items-center justify-center gap-3 bg-white text-brand-text border-2 border-brand-border shadow-hard hover:bg-brand-canvas py-4 px-6 transition-all">
                    <!-- Google Icon SVG -->
                    <svg class="w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                            fill="#4285F4" />
                        <path
                            d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                            fill="#34A853" />
                        <path
                            d="M5.84 14.11c-.22-.66-.35-1.36-.35-2.11s.13-1.45.35-2.11V7.05H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.95l3.66-2.84z"
                            fill="#FBBC05" />
                        <path
                            d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.05l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                            fill="#EA4335" />
                    </svg>
                    <span class="font-mono font-bold text-sm tracking-wide">Sign in with Google</span>

                    <!-- Hover indicator -->
                    <div class="absolute right-4 opacity-0 group-hover:opacity-100 transition-opacity">
                        <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    </div>
                </button>

                <div class="text-center">
                    <p class="font-mono text-[10px] text-brand-textMuted uppercase tracking-wider">
                        By continuing, you agree to our <a href="#"
                            class="underline decoration-brand-accent decoration-2 underline-offset-2 hover:text-brand-text">Terms
                            of Service</a>
                    </p>
                </div>
            </div>

            <!-- Corner Accent -->
            <div
                class="absolute top-0 right-0 w-0 h-0 border-t-[40px] border-r-[40px] border-t-brand-accent border-r-transparent opacity-0 md:opacity-100">
            </div>
            <div class="absolute bottom-0 left-0 w-4 h-4 border-l-2 border-b-2 border-brand-border"></div>
        </div>

    </main>

    <script>
        lucide.createIcons();
    </script>
</body>

</html>